---
layout: post
title: Number formatting with thousand separator
date: '2012-09-25T15:44:00.000-04:00'
author: Xianjun Dong
tags:
- linux
- format converter
modified_time: '2013-07-29T17:42:46.597-04:00'
blogger_id: tag:blogger.com,1999:blog-12445049.post-2452420370440608687
blogger_orig_url: http://onetipperday.blogspot.com/2012/09/number-formatting-with-thousand.html
---

in BASH : (Ref:&nbsp;http://stackoverflow.com/questions/9374868/number-formatting-in-bash-with-thousand-separator)<br /><br />$ printf "%'.3f\n" 12345678.901<br />12,345,678.901<br />$ printf "%'d\n" 12345678<br />12,345,678<br /><div><br /></div><div>in AWK: (Ref:&nbsp;http://www.mkssoftware.com/docs/man1/awk.1.asp)</div><div><br /></div><div><div style="background-color: white; font-family: Arial; font-size: 12px;">When&nbsp;<i style="font-size: 9pt;">flag</i>&nbsp;contains a&nbsp;<tt>'</tt>&nbsp;or&nbsp;<tt>"</tt>&nbsp;character and the&nbsp;<b><tt><i style="font-family: Arial; font-size: 9pt;">TK_USE_CURRENT_LOCALE</i></tt></b>&nbsp;environment variable is set, a thousands separator is displayed. The digital grouping character (for example, a comma in the United States) as set by the&nbsp;<b>Regional and Language Options</b>&nbsp;control panel applet is used as the thousands separator. When&nbsp;<i style="font-size: 9pt;">flags</i>&nbsp;contains&nbsp;<tt>'</tt>&nbsp;or&nbsp;<tt>"</tt>&nbsp;and&nbsp;<b><tt><i style="font-family: Arial; font-size: 9pt;">TK_USE_CURRENT_LOCALE</i></tt></b>&nbsp;is unset, no thousands separator is displayed.</div><div style="background-color: white; font-family: Arial; font-size: 12px;">For example, the following MKS KornShell commands:</div><blockquote style="background-color: white; font-family: Arial; font-size: 12px;"><pre style="font-size: 9pt;">export TK_USE_CURRENT_LOCALE=1<br />awk 'BEGIN { printf("%'\''10d\n",123456)}'<br /></pre></blockquote><div style="background-color: white; font-family: Arial; font-size: 12px;">display:</div><blockquote style="background-color: white; font-family: Arial; font-size: 12px;"><pre style="font-size: 9pt;">123,456<br /></pre></blockquote><div style="background-color: white; font-family: Arial; font-size: 12px;">while the MKS KornShell commands:</div><blockquote style="background-color: white; font-family: Arial; font-size: 12px;"><pre style="font-size: 9pt;">unset TK_USE_CURRENT_LOCALE<br />awk 'BEGIN { printf("%'\''10d\n",123456)}'<br /></pre></blockquote><div style="background-color: white; font-family: Arial; font-size: 12px;">display:</div><blockquote style="background-color: white; font-family: Arial; font-size: 12px;"><pre style="font-size: 9pt;">123456</pre></blockquote></div>