---
layout: post
title: line width in R and in Illustrator
date: '2012-12-17T18:07:00.003-05:00'
author: Xianjun Dong
tags:
- Illustrator
- R
modified_time: '2012-12-17T18:44:42.575-05:00'
thumbnail: http://1.bp.blogspot.com/-Wcs7A1oAqag/UM-eZqwLPeI/AAAAAAAAAao/lmecQDEjx5I/s72-c/Screen+shot+2012-12-17+at+5.33.49+PM.png
blogger_id: tag:blogger.com,1999:blog-12445049.post-4645445652553018469
blogger_orig_url: http://onetipperday.blogspot.com/2012/12/figure-resolution-in-r-and-in.html
---

I've drawn figure in R with lwd=1, e.g.<br /><blockquote class="tr_bq"><span style="font-family: Courier New, Courier, monospace;">pdf('test.pdf')</span><span style="font-family: Courier New, Courier, monospace;">plot(1:10, type='o', lwd=2, axes=F)<br /> </span><span style="font-family: Courier New, Courier, monospace;">box(lwd=1, col='red')<br /> </span><span style="font-family: Courier New, Courier, monospace;">dev.off()</span></blockquote>And then you open the PDF in Illustrator, you will see the border width is 0.75pt, and the line is 1.5pt, which seems that <b>the unit&nbsp;of 1 in R is 0.75pt in Illustrator</b>.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-Wcs7A1oAqag/UM-eZqwLPeI/AAAAAAAAAao/lmecQDEjx5I/s1600/Screen+shot+2012-12-17+at+5.33.49+PM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-Wcs7A1oAqag/UM-eZqwLPeI/AAAAAAAAAao/lmecQDEjx5I/s1600/Screen+shot+2012-12-17+at+5.33.49+PM.png" /></a></div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">How is this defined? Where can I change it?</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">I found the answer by switching the display unit of stroke in Illustrator (see below) from point to inch. It shows <b>1point=1pixel=0.0139inch=1/72 inch in Illustrator.</b></div><div class="separator" style="clear: both; text-align: left;"><b><br /></b></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-C7SuduPmpNM/UM-fKPGFbSI/AAAAAAAAAaw/PZYOdALhqEE/s1600/Screen+shot+2012-12-17+at+5.39.16+PM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-C7SuduPmpNM/UM-fKPGFbSI/AAAAAAAAAaw/PZYOdALhqEE/s1600/Screen+shot+2012-12-17+at+5.39.16+PM.png" /></a></div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">And in the R document of <span style="font-family: Courier New, Courier, monospace;"><a href="http://stat.ethz.ch/R-manual/R-patched/library/graphics/html/points.html" target="_blank">points()</a></span>, &nbsp;it says:</div><div class="separator" style="clear: both; text-align: left;"></div><blockquote class="tr_bq">Value&nbsp;<code>pch = "."</code>&nbsp;(equivalently&nbsp;<code>pch = 46</code>) is handled specially. It is a rectangle of side 0.01 inch (scaled by&nbsp;<code>cex</code>). In addition, if&nbsp;<code>cex = 1</code>&nbsp;(the default), each side is at least one pixel (1/72 inch on the&nbsp;<code><a href="http://stat.ethz.ch/R-manual/R-patched/library/grDevices/html/pdf.html" style="color: purple;">pdf</a></code>,&nbsp;<code><a href="http://stat.ethz.ch/R-manual/R-patched/library/grDevices/html/postscript.html" style="color: purple;">postscript</a></code>&nbsp;and&nbsp;<code><a href="http://stat.ethz.ch/R-manual/R-patched/library/grDevices/html/xfig.html" style="color: purple;">xfig</a></code>&nbsp;devices).<br />For other text symbols,&nbsp;<code>cex = 1</code>&nbsp;corresponds to the default fontsize of the device, often specified by an argument&nbsp;<code>pointsize</code>. For&nbsp;<code>pch</code>&nbsp;in&nbsp;<code>0:25</code>&nbsp;the default size is about 75% of the character height (see&nbsp;<code>par("cin")</code>).</blockquote><div style="background-color: white;">So, when saved into pdf, a point without scaling in R is one&nbsp;rectangle&nbsp;with one pixel each side, also 1/72 inch, which means the size of basic unit of R and illustrator should be same. But why lwd=1 will result in 0.75pt=3/4pixel in Illustrator? Is it set in PDF output?</div><div style="background-color: white;"><br /></div><div style="background-color: white;">OK. The answer is already in the <span style="font-family: Courier New, Courier, monospace;"><a href="http://stat.ethz.ch/R-manual/R-devel/library/grDevices/html/pdf.html" target="_blank">pdf()</a></span> document:</div><div style="background-color: white;"></div><blockquote class="tr_bq">Line widths as controlled by&nbsp;<code>par(lwd = )</code>&nbsp;are in multiples of 1/96 inch. Multiples less than 1 are allowed.&nbsp;<code>pch = "."</code>&nbsp;with&nbsp;<code>cex = 1</code>&nbsp;corresponds to a square of side 1/72 inch, which is also the ‘pixel’ size assumed for graphics parameters such as&nbsp;<code>"cra"</code>.</blockquote>So, lwd=1 is equal to 1/96 inch, which is exactly as 0.75 * 1/72 inch (0.75pt). To change it, for example if we want to set line width as 0.5 pt in Illustrator, we can set lwd=2/3, as below:<br /><blockquote class="tr_bq"><span style="font-family: Courier New, Courier, monospace;">pdf('test2.pdf')<br /> </span><span style="font-family: Courier New, Courier, monospace;">par(lwd=2/3)<br /> </span><span style="font-family: Courier New, Courier, monospace;">plot(1:10, type='o')<br /> </span><span style="font-family: Courier New, Courier, monospace;">dev.off()</span></blockquote>But I found this does not control the line width of axis and legend, which have to be set in the function itself.<br /><br />btw, I have not figured it out how to get same setting for stroke line in R and in Illustrator. I was setting lty='32', lwd=2/3 in R, assuming that I can get stroke line as dash=1.5pt and gap=1pt in Illustrator, but actually I did not. Don't know why. If anyone can figure it out, please let me know.<br /><div><br /></div><br /><div><br /></div><br /><div style="background-color: white;"><br /></div><div style="background-color: white;"><br /></div><div style="background-color: white;"><br /></div><br /><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: center;"><br /></div><br />