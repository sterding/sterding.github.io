---
layout: post
title: Make grep stop after the first match - The macosxhints Forums
date: '2010-11-05T15:23:00.000-04:00'
author: Xianjun
tags:
- grep
- linux
modified_time: '2010-11-05T15:24:52.811-04:00'
blogger_id: tag:blogger.com,1999:blog-12445049.post-1284793702490677005
blogger_orig_url: http://onetipperday.blogspot.com/2010/11/make-grep-stop-after-first-match.html
---

<a href="http://hintsforums.macworld.com/showthread.php?t=93768">Make grep stop after the first match - The macosxhints Forums</a>:<br /><br /><div class="smallfont"><b>Make grep stop after the first match</b>    </div><hr size="1" style="background-color: #d1d1e1; color: #d1d1e1;" /><span style="font-weight: bold;">           Question: </span>I'm trying to use grep to find all the href links in my asp files  (except in-page links that start with #).<br />I want it to show me the <b>href="blahblah"</b> part only - nothing  before href or after href's closing quote.<br />Here's what I have so far. This: <br /><blockquote><span style="font-family: courier;">grep  -i -r -o 'href="[^#].*"' rentals.asp</span></blockquote>gives me this (<span style="color: green;">green=good, </span><span style="color: blue;">blue=bad</span>):<br /><blockquote><span style="font-family: courier;"><span style="color: green;">href="&lt;%= webaddr  %&gt;/rentalStyle.css"</span> <span style="color: blue;">type="text/css"</span><br /><span style="color: green;">href="&lt;%= webaddr %&gt;/rentals_s.asp"</span><br /><span style="color: green;">href="&lt;%= webaddr %&gt;/rentals_o.asp"</span><span style="color: blue;">&gt;rentals<span style="font-size: 0.12em;"><br /><span style="color: green;">href="&lt;%= webaddr %&gt;/search.asp"</span><span style="color: blue;">&gt;Search<span style="font-size: 0.12em;"></span></span></span></span></span></blockquote><span style="font-weight: bold;">Solution:</span><br />"I think the question has to do with the 'greediness' of grep when multiple matches occur in the same line (in this case, the double-quote character). To match everything up to the first closing quotes, try:<br />Code:<br /><br />grep -i -r -o 'href='[^#][^']*'' rentals.asp<br /><br />----------------<br />Similar question to get URL links in html source code like:<br /><br />&lt; href="ftp://encodeftp.cse.ucsc.edu:21/users/akundaje/rawdata/peaks/jul2010/idr0_02/narrowPeak_blacklistFiltered/wgEncodeBroadHistoneGm12878CtcfStdAlnRep0.bam_VS_wgEncodeBroadHistoneGm12878ControlStdAlnRep0.bam.regionPeak.gz"&gt;wgEncodeBroadHistoneGm12878CtcfStdAlnRep0.bam_VS_wgEncodeBroadHistoneGm12878ControlStdAlnRep0.bam.regionPeak.gz&lt; / a &gt;<br /><br />hint code from <a href="http://www.commandlinefu.com/commands/view/3269/parallel-file-downloading-with-wget">commandlinefu</a> :<br />egrep -o "ftp://[^[:space:]]*.gz"<br />will get<br />ftp://encodeftp.cse.ucsc.edu:21/users/akundaje/rawdata/peaks/jul2010/idr0_02/narrowPeak_blacklistFiltered/wgEncodeSydhTfbsK562bTr4UcdAlnRep0.bam_VS_wgEncodeSydhTfbsK562bInputUcdAlnRep1.bam.regionPeak.gz"&gt;wgEncodeSydhTfbsK562bTr4UcdAlnRep0.bam_VS_wgEncodeSydhTfbsK562bInputUcdAlnRep1.bam.regionPeak.gz<br /><br />So, it should be corrected into :<br />egrep -o "ftp://[^[:space:]^\"]*.gz"<br /><br />Smart, ha!<br />- Sent using Google Toolbar"