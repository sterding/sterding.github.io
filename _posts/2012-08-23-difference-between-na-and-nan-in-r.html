---
layout: post
title: difference between NA and NaN in R
date: '2012-08-23T16:44:00.001-04:00'
author: Xianjun Dong
tags:
- R
modified_time: '2012-08-23T16:44:30.035-04:00'
blogger_id: tag:blogger.com,1999:blog-12445049.post-702670894812864875
blogger_orig_url: http://onetipperday.blogspot.com/2012/08/difference-between-na-and-nan-in-r.html
---

We usually see NA and NaN in R. What's the difference between them?<br /><br />Here a good post for that topic:<br />http://stats.stackexchange.com/questions/5686/what-is-the-difference-between-nan-and-na<br /><br />In summary here:<br /><ul><li>NaN ("Not a Number")&nbsp;means 0/0</li><li>NA ("Not Available") is generally interpreted as a missing value and has various forms - NA_integer_, NA_real_, etc.&nbsp;</li><li>Therefore, NaN ≠ NA and there is a need for NaN and NA.</li><li>is.na() returns TRUE for both NA and NaN, however is.nan() return TRUE for NaN (0/0) and FALSE for NA.</li><li>As the elements of an atomic vector must be of the same type <b>there are multiple types of NA values</b>. There is one case where this is particularly important to the user. <b>The default type of NA is logical</b>, unless coerced to some other type, so the appearance of a missing value may trigger logical rather than numeric indexing. Numeric and logical calculations with NA generally return NA. In cases where the result of the operation would be the same for all possible values the NA could take, the operation may return this value. <b>In particular, ‘FALSE &amp; NA’ is FALSE, ‘TRUE | NA’ is TRUE. NA is not equal to any other value or to itself; testing for NA is done using <a href="http://is.na/">is.na</a>. </b>However, an NA value will match another NA value in match.&nbsp;</li><li>Numeric calculations whose result is undefined, such as ‘0/0’, produce the value NaN. This exists only in the double type and for real or imaginary components of the complex type. The function <b>is.nan is provided to check specifically for NaN, <a href="http://is.na/">is.na</a> also returns TRUE for NaN</b>. Coercing NaN to logical or integer type gives an NA of the appropriate type, but coercion to character gives the string "NaN". NaN values are incomparable so tests of equality or collation involving NaN will result in NA. They are regarded as matching any NaN value (and no other value, not even NA) by match. The NA of character type is as from R 1.5.0 distinct from the string "NA". <b>Programmers who need to specify an explicit string NA should use ‘as.character(NA)’ rather than "NA", or set elements to NA using <a href="http://is.na/">is.na</a>&lt;-.</b> As from R 2.5.0 there are constants NA_integer_, NA_real_, NA_complex_ and NA_ character_ which will generate (in the parser) an NA value of the appropriate type, and will be used in deparsing when it is not otherwise possible to identify the type of an NA (and the control options ask for this to be done). There is no NA value for raw vectors.</li></ul>