---
layout: post
title: awk.gsub, awk.system
date: '2010-11-20T18:47:00.000-05:00'
author: Xianjun
tags:
- linux
- awk
- awk.system
modified_time: '2010-11-20T22:40:32.872-05:00'
blogger_id: tag:blogger.com,1999:blog-12445049.post-6775777654294902700
blogger_orig_url: http://onetipperday.blogspot.com/2010/11/awkgsub-awksystem.html
---

<a href="http://www.google.com/notebook/public/09328670786006596198/BDSdwQwoQ4bjM2t8i">Tips in Computer</a>: "awk '{system('grep ' $4 ' file &gt; result.txt'); getline result &lt; 'result.txt'; close('result.txt'); print result;}' infile<br /><br />e.g File<br />/scratch/dongx/jobid_2622600/18_2_62LPFAAXX_092810_MyersLab_4242.fastq.tophat.mm_1.unique.hg19.out/accepted_hits.bam<br />/scratch/dongx/jobid_2622600/18_2_62LPFAAXX_092810_MyersLab_4242.fastq.tophat.mm_1.unique.hg19.out/junctions.bed<br />/scratch/dongx/jobid_2622604/20_2_62MA2AAXX_101210_MyersLab_4430_4.fastq.tophat.mm_1.unique.hg19.out/accepted_hits.bam<br />/scratch/dongx/jobid_2622604/20_2_62MA2AAXX_101210_MyersLab_4430_4.fastq.tophat.mm_1.unique.hg19.out/junctions.bed<br />/scratch/dongx/jobid_2622606/20_5_62MA2AAXX_101210_PhiX.fastq.tophat.mm_1.unique.hg19.out/accepted_hits.bam<br /><br />You want to copy the .bam and .bed file to another folder...<br /><br />$ cat &gt; tophat.log<br />$ grep "s\.b" tophat.log | awk '{a=$1; gsub(".*[0-9]/","", a); sub("/",".", a); system("cp " $1 " " a);}'<br /><br />- Sent using Google Toolbar"