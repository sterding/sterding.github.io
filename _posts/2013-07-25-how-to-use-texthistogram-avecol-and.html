---
layout: post
title: How to use the "textHistogram -aveCol" and textHist2 in the UCSC executables
date: '2013-07-25T14:25:00.001-04:00'
author: Xianjun Dong
tags:
- textHistogram
- UCSC
- textHist2
modified_time: '2013-07-25T14:25:52.872-04:00'
blogger_id: tag:blogger.com,1999:blog-12445049.post-5050689198277799929
blogger_orig_url: http://onetipperday.blogspot.com/2013/07/how-to-use-texthistogram-avecol-and.html
---

The <a href="http://hgdownload.cse.ucsc.edu/admin/exe/macOSX.i386/">Jim Kent's executable tools</a> are general quite friendly to use. But for some options of some tools, it's a bit too terse. For example, the "-aveCol" option in textHistogram says<br /><br /><span style="font-family: Courier New, Courier, monospace;">-aveCol=N - A second column to average over. The averages<br />             will be output in place of counts of primary column.</span><br /><br />Also, for textHist2, it says<div><div><span style="font-family: Courier New, Courier, monospace;">textHist2 - Make two dimensional histogram table out</span></div><div><span style="font-family: Courier New, Courier, monospace;">of a list of 2-D points, one per line.</span></div><div><span style="font-family: Courier New, Courier, monospace;">usage:</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp;textHist2 input</span></div><div><span style="font-family: Courier New, Courier, monospace;">options:</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp;-xBins=N - number of bins in x dimension</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp;-yBins=N - number of bins in y dimension</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp;-xBinSize=N - size of bins in x dimension</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp;-yBinSize=N - size of bins in x dimension</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp;-xMin=N - minimum x number to record</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp;-yMin=N - minimum y number to record</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp;-ps=output.ps - make PostScript output</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp;-psSize=N - Size in points (1/72th of inch)</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp;-labelStep=N - How many bins to skip between labels</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp;-margin=N - Margin in points for PostScript output</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp;-log &nbsp; &nbsp;- Logarithmic output (only works with ps now)</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp;-postScale=N (default 1.000000) - What to scale by after normalization</span></div><div><br /></div><div>What do this mean? For example, I have&nbsp;<span style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px;">userFile with 2 columns like</span>,<br />1 8<br />2 9<br />3 6<br />5 3</div><div><br /></div>Here is reply from Brooke Rhead in UCSC Genome Bioinformatics Group:<br />The -aveCol option prints the average values of the items in each bin instead of the number of items in each bin.  (The default bin size is 1.)  So, if you run textHistogram on your example input without the -aveCol option and the default bin size, you get the number of items in each bin, which is 1 item for all bins except #4:<br /><br /><span style="font-family: Courier New, Courier, monospace;">$ textHistogram userFile<br />  1 ************************************************************ 1<br />  2 ************************************************************ 1<br />  3 ************************************************************ 1<br />  4  0<br />  5 ************************************************************ 1</span><br /><br />If you instead use -aveCol=2, you get the average of the *value* in column 2.  Since bin size is still equal to 1, this amounts to printing the value in column 2 in each bin:<br /><br /><span style="font-family: Courier New, Courier, monospace;">$ textHistogram -aveCol=2 userFile<br />  1 ***************************************************** 8.000000<br />  2 ************************************************************ 9.00000<br />  3 **************************************** 6.000000<br />  4  0.000000<br />  5 ******************** 3.000000</span><br /><br />If you specify a smaller bin size, the option might seem more useful:<br /><br /><span style="font-family: Courier New, Courier, monospace;">$ textHistogram -binSize=2 -aveCol=2 userFile<br />  0 ************************************************************ 8.00000<br />  2 ******************************************************** 7.500000<br />  4 *********************** 3.000000</span><br /><br />The bins are taken from the first column:  0-1, 2-3, and 4-5, and the values are from the second column.  So, for instance, the bin labeled "2" above contains the average of the values from this part of your file:<br />2 9<br />3 6<br />. . . bin "2" contains the average of 9 and 6, or 7.5.<br /><br /><br />The textHist2 program makes more sense if you specify the number of bins and bin sizes to use.  For example, if we specify the following options on your same input file:<br /><br />1 8<br />2 9<br />3 6<br />5 3<br /><br />we get:<br /><br /><span style="font-family: Courier New, Courier, monospace;">$ textHist2 -xBins=6 -yBins=10 userFile<br />0 0 0 0 0 0<br />0 0 0 0 0 0<br />0 0 0 0 0 0<br />0 0 0 0 0 1<br />0 0 0 0 0 0<br />0 0 0 0 0 0<br />0 0 0 1 0 0<br />0 0 0 0 0 0<br />0 1 0 0 0 0<br />0 0 1 0 0 0</span><br /><br />The first column in the input file specifies the x-axis in the two dimensional histogram, and the second column specifies the y-axis.  The numbering of the rows and columns starts at 0 in both cases.  The first line of your input:<br /><br />1 8<br /><br />Causes a 1 to appear in the second column from the right and the 9th row from the bottom, or column 1 and row 8, if you start counting from zero.  The "2 9" line causes the 1 to appear in column 2, row 9, and so on.</div>