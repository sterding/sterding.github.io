---
layout: post
title: counts numbers in a interval
date: '2013-02-05T22:08:00.001-05:00'
author: Xianjun Dong
tags:
- cut
- interval
- R
- histogram
modified_time: '2013-02-05T22:08:30.292-05:00'
blogger_id: tag:blogger.com,1999:blog-12445049.post-5978061201367560283
blogger_orig_url: http://onetipperday.blogspot.com/2013/02/counts-numbers-in-interval.html
---

Say I have a list of values, and I cut them by some break points, how do I know the number of values in each interval?<br /><br />We know cut() function in R works for the purpose. &nbsp;For example,<br /><br /><br /><pre>tx0 &lt;- c(9, 4, 6, 5, 3, 10, 5, 3, 5)<br />x &lt;- rep(0:8, tx0)</pre><pre>&gt; x<br /> [1] 0 0 0 0 0 0 0 0 0 1 1 1 1 2 2 2 2 2 2 3 3 3 3 3 4 4 4 5 5 5 5 5 5 5 5 5 5 6<br />[39] 6 6 6 6 7 7 7 8 8 8 8 8</pre><pre>&gt; table( cut(x, b = 8))<br /><br />(-0.008,0.994]      (0.994,2]          (2,3]          (3,4]          (4,5] <br />             9              4              6              5             13 <br />         (5,6]       (6,7.01]    (7.01,8.01] <br />             5              3              5 </pre><pre><br /></pre>In the cut() document, there is a note, saying<br /><br /><pre><blockquote class="tr_bq"><br />Instead of&nbsp;<code>table(cut(x, br))</code>,&nbsp;<code>hist(x, br, plot = FALSE)</code>&nbsp;is more efficient and less memory hungry. Instead of&nbsp;<code>cut(*, labels = FALSE)</code>,&nbsp;<code><a href="http://stat.ethz.ch/R-manual/R-devel/library/base/html/findInterval.html" style="background-color: white; background-position: initial initial; background-repeat: initial initial; color: purple;">findInterval</a>()</code>&nbsp;is more efficient.</blockquote><br /><div style="font-family: Times; white-space: normal;"><br />But if you try as it said, you will the counts returned look different:</div><br /><div style="font-family: Times; white-space: normal;"><br /></div><br />&gt; hist(x, 8, plot=F)<br />$breaks<br />[1] 0 1 2 3 4 5 6 7 8<br />$counts<br />[1] 13  6  5  3 10  5  3  5<br /><br /><br /><br /><div style="font-family: Times; white-space: normal;"><br />What's wrong?</div><br /><br /><br /><div style="font-family: Times; white-space: normal;"><br /></div><br /><div style="font-family: Times; white-space: normal;"><br />Nothing is wrong. Just missed argument. "<span style="background-color: white;">When&nbsp;</span><code style="background-color: white;">breaks</code><span style="background-color: white;">&nbsp;is specified as a single number, the range of the data is divided into&nbsp;</span><code style="background-color: white;">breaks</code><span style="background-color: white;">&nbsp;pieces of equal length, and then the outer limits are moved away by 0.1% of the range to ensure that the extreme values both fall within the break intervals. (If&nbsp;</span><code style="background-color: white;">x</code><span style="background-color: white;">&nbsp;is a constant vector, equal-length intervals are created, one of which includes the single value.)</span>"</div><br /><div style="font-family: Times; white-space: normal;"><br /></div><br /><div style="font-family: Times; white-space: normal;"><br />The conclusion is:</div><br />when breaks is a vector, table( cut(x, b = 0:8,include.lowest = T)) is equal to hist(x, breaks=0:8, plot=F)$counts; when breaks is a single number, it's not.<br /><div><br /></div><br /></pre>